<!doctype html>
<!-- 目前数据库中只有一组数据，id=11，password=123，name=zheng -->
<html lang="en">

<head>
 <meta  charset="utf-8" />
<title>登录界面</title>
</head>

<!-- 胡写的网页，主要是展示用id调用这方面，都需要一个id或者name值，通过它们来启动js -->
<body>
    <h2 align="center">登录界面</h2>
    <div align="center">
        <input type="text" id="userid">
        <input type="text" id="userpass">
        <button id="submit">查询</button>
    </div>
    <div align="center">
        <span id="find">显示find返回值,当为真时显示1，当为假时显示为空</span>
    </div>
</body>

<!-- 调用jquery库 -->
<script src="//cdn.bootcss.com/jquery/3.0.0-alpha1/jquery.min.js"></script>

<!-- js部分，主要用了jquery的ajax技术 -->
<script>
  $(function(){
    //使用提交按钮id，作为点击事件触发条件
    $('#submit').click(function(){
      //获取当前id的值
      var userid=$('#userid').val();
      var userpass=$('#userpass').val();
      //使用ajax进行与PHP文件的交互
      $.ajax({
        type: "post",
        url: "login.php",//指示使用的PHP文件
        data: {userid:userid,userpass:userpass},//提交到login_in.php的数据
        dataType: "json",//回调函数接收数据的数据格式为json
        //成功接收时的处理
        success: function(student_data){
            //将以json字符串格式返回的数据变成json的对象
            var json='';
            json = eval("("+student_data+")");
            //json返回6项数据，调用方式及含义如下：
            //jsobj.find //boolean值，标志数据库中是否存在此用户（注：当前返回值为1表示存在此用户并已返回其值，当前返回值为空表示无此用户或者密码错误返回值都为空）
		        //jsobj.name//12位以下字符串，表示姓名
            //jsobj.age//小整型，表示用户年龄
            //jsobj.que_num//无符号整型，用户总做题数
            //jsobj.right_num//无符号整型，用户正确题目数
            //jsobj.timer//无符号整型，用户登录时间  
            //返回数据使用示例 ******将find文本的值修改为返回的值*******
            $('#find').empty();
            $('#find').html(json.find);
        },
        //未成功接收时的处理
        error:function(student_data){
            //调用控制台查看返回数据
            console.log(student_data);
        }
      });
    });
  })
</script>

</html>

